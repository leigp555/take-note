import{i as e,a as t,I as n,t as a,C as o,b as i,r,f as l,_ as u}from"./index-5aa8a713.js";import{d as s,e as c,_ as d,b as v,P as p,c as f,a as m,r as b,x as g,n as h}from"./default-5a702575.js";import{d as x,a as y,c as w,r as A,o as z,b as S,n as C,f as P,w as T,H as B,e as F}from"./index-c4afe18c.js";import{S as M}from"./SearchOutlined-4e00125a.js";import"./index-63ea0b00.js";import{c as j}from"./vnode-040f83c5.js";import{o as E}from"./omit-7b41c1e3.js";import{B as k}from"./index-bb392ada.js";import{R as O}from"./index-d11802c9.js";import{w as _}from"./raf-747b5972.js";import{a as I,u as R}from"./FormItemContext-95aae190.js";var V=x({name:"AInputGroup",props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0},onMouseenter:{type:Function},onMouseleave:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup:function(e,t){var n=t.slots,a=s("input-group",e),o=a.prefixCls,i=a.direction,r=y((function(){var t,n=o.value;return c(t={},"".concat(n),!0),c(t,"".concat(n,"-lg"),"large"===e.size),c(t,"".concat(n,"-sm"),"small"===e.size),c(t,"".concat(n,"-compact"),e.compact),c(t,"".concat(n,"-rtl"),"rtl"===i.value),t}));return function(){var t;return w("span",{class:r.value,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},[null===(t=n.default)||void 0===t?void 0:t.call(n)])}}}),N=/iPhone/i,G=/iPod/i,H=/iPad/i,U=/\bAndroid(?:.+)Mobile\b/i,D=/Android/i,K=/\bAndroid(?:.+)SD4930UR\b/i,W=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,X=/Windows Phone/i,Y=/\bWindows(?:.+)ARM\b/i,L=/BlackBerry/i,Z=/BB10/i,q=/Opera Mini/i,J=/\b(CriOS|Chrome)(?:.+)Mobile/i,Q=/Mobile(?:.+)Firefox\b/i;function $(e,t){return e.test(t)}function ee(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");void 0!==n[1]&&(t=v(n,1)[0]);void 0!==(n=t.split("Twitter"))[1]&&(t=v(n,1)[0]);var a={apple:{phone:$(N,t)&&!$(X,t),ipod:$(G,t),tablet:!$(N,t)&&$(H,t)&&!$(X,t),device:($(N,t)||$(G,t)||$(H,t))&&!$(X,t)},amazon:{phone:$(K,t),tablet:!$(K,t)&&$(W,t),device:$(K,t)||$(W,t)},android:{phone:!$(X,t)&&$(K,t)||!$(X,t)&&$(U,t),tablet:!$(X,t)&&!$(K,t)&&!$(U,t)&&($(W,t)||$(D,t)),device:!$(X,t)&&($(K,t)||$(W,t)||$(U,t)||$(D,t))||$(/\bokhttp\b/i,t)},windows:{phone:$(X,t),tablet:$(Y,t),device:$(X,t)||$(Y,t)},other:{blackberry:$(L,t),blackberry10:$(Z,t),opera:$(q,t),firefox:$(Q,t),chrome:$(J,t),device:$(L,t)||$(Z,t)||$(q,t)||$(Q,t)||$(J,t)},any:null,phone:null,tablet:null};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var te,ne=d(d({},ee()),{isMobile:ee}),ae=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},oe=x({name:"AInputSearch",inheritAttrs:!1,props:d(d({},e()),{inputPrefixCls:String,enterButton:p.any,onSearch:{type:Function}}),setup:function(e,a){var o=a.slots,i=a.attrs,r=a.expose,l=a.emit,u=A();r({focus:function(){var e;null===(e=u.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=u.value)||void 0===e||e.blur()}});var v=function(e){l("update:value",e.target.value),e&&e.target&&"click"===e.type&&l("search",e.target.value,e),l("change",e)},p=function(e){var t;document.activeElement===(null===(t=u.value)||void 0===t?void 0:t.input)&&e.preventDefault()},b=function(e){var t;l("search",null===(t=u.value)||void 0===t?void 0:t.stateValue,e),ne.tablet||u.value.focus()},g=s("input-search",e),h=g.prefixCls,x=g.getPrefixCls,z=g.direction,S=g.size,C=y((function(){return x("input",e.inputPrefixCls)}));return function(){var a,r,l,s,g,x,y=e.disabled,A=e.loading,P=e.addonAfter,T=void 0===P?null===(r=o.addonAfter)||void 0===r?void 0:r.call(o):P,B=e.suffix,F=void 0===B?null===(l=o.suffix)||void 0===l?void 0:l.call(o):B,O=ae(e,["disabled","loading","addonAfter","suffix"]),_=e.enterButton,I=void 0===_?null!==(g=null===(s=o.enterButton)||void 0===s?void 0:s.call(o))&&void 0!==g&&g:_,R="boolean"==typeof(I=I||""===I)?w(M,null,null):null,V="".concat(h.value,"-button"),N=Array.isArray(I)?I[0]:I,G=N.type&&t(N.type)&&N.type.__ANT_BUTTON;if(G||"button"===N.tagName)x=j(N,d({onMousedown:p,onClick:b,key:"enterButton"},G?{class:V,size:S.value}:{}),!1);else{var H=R&&!I;x=w(k,{class:V,type:I?"primary":void 0,size:S.value,disabled:y,key:"enterButton",onMousedown:p,onClick:b,loading:A,icon:H?R:null},{default:function(){return[H?null:R||I]}})}T&&(x=[x,T]);var U=f(h.value,(c(a={},"".concat(h.value,"-rtl"),"rtl"===z.value),c(a,"".concat(h.value,"-").concat(S.value),!!S.value),c(a,"".concat(h.value,"-with-button"),!!I),a),i.class);return w(n,m(m(m({ref:u},E(O,["onUpdate:value","onSearch","enterButton"])),i),{},{onPressEnter:b,size:S.value,prefixCls:C.value,addonAfter:x,suffix:F,onChange:v,class:U,disabled:y}),o)}}}),ie="\n min-height:0 !important;\n max-height:none !important;\n height:0 !important;\n visibility:hidden !important;\n overflow:hidden !important;\n position:absolute !important;\n z-index:-1000 !important;\n top:0 !important;\n right:0 !important\n",re=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],le={};function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&le[n])return le[n];var a=window.getComputedStyle(e),o=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),i=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),r=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),l=re.map((function(e){return"".concat(e,":").concat(a.getPropertyValue(e))})).join(";"),u={sizingStyle:l,paddingSize:i,borderSize:r,boxSizing:o};return t&&n&&(le[n]=u),u}var se=x({name:"ResizableTextArea",inheritAttrs:!1,props:a(),setup:function(e,t){var n,a,o=t.attrs,i=t.emit,r=t.expose,l=A(),u=A({}),s=A(0);z((function(){_.cancel(n),_.cancel(a)}));var v=function(){var t=e.autoSize||e.autosize;if(t&&l.value){var n=t.minRows,o=t.maxRows;u.value=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;te||((te=document.createElement("textarea")).setAttribute("tab-index","-1"),te.setAttribute("aria-hidden","true"),document.body.appendChild(te)),e.getAttribute("wrap")?te.setAttribute("wrap",e.getAttribute("wrap")):te.removeAttribute("wrap");var o=ue(e,t),i=o.paddingSize,r=o.borderSize,l=o.boxSizing,u=o.sizingStyle;te.setAttribute("style","".concat(u,";").concat(ie)),te.value=e.value||e.placeholder||"";var s,c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,v=te.scrollHeight;if("border-box"===l?v+=r:"content-box"===l&&(v-=i),null!==n||null!==a){te.value=" ";var p=te.scrollHeight-i;null!==n&&(c=p*n,"border-box"===l&&(c=c+i+r),v=Math.max(c,v)),null!==a&&(d=p*a,"border-box"===l&&(d=d+i+r),s=v>d?"":"hidden",v=Math.min(d,v))}return{height:"".concat(v,"px"),minHeight:"".concat(c,"px"),maxHeight:"".concat(d,"px"),overflowY:s,resize:"none"}}(l.value,!1,n,o),s.value=1,_.cancel(a),a=_((function(){s.value=2,a=_((function(){s.value=0,function(){try{if(document.activeElement===l.value){var e=l.value.selectionStart,t=l.value.selectionEnd;l.value.setSelectionRange(e,t)}}catch(n){}}()}))}))}},p=function(t){0===s.value&&(i("resize",t),(e.autoSize||e.autosize)&&(_.cancel(n),n=_(v)))};b(void 0===e.autosize,"Input.TextArea","autosize is deprecated, please use autoSize instead.");S((function(){return e.value}),(function(){C((function(){v()}))})),P((function(){C((function(){v()}))}));var g=B();return r({resizeTextarea:v,textArea:l,instance:g}),function(){return t=e.prefixCls,n=e.autoSize,a=e.autosize,i=e.disabled,r=E(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),v=f(t,o.class,c({},"".concat(t,"-disabled"),i)),b=[o.style,u.value,1===s.value?{overflowX:"hidden",overflowY:"hidden"}:null],(g=d(d(d({},r),o),{style:b,class:v})).autofocus||delete g.autofocus,0===g.rows&&delete g.rows,w(O,{onResize:p,disabled:!(n||a)},{default:function(){return[T(w("textarea",m(m({},g),{},{ref:l}),null),[[I]])]}});var t,n,a,i,r,v,b,g}}});function ce(e,t){return g(e||"").slice(0,t).join("")}function de(e,t,n,a){var o=n;return e?o=ce(n,a):g(t||"").length<n.length&&g(n||"").length>a&&(o=t),o}var ve=x({name:"ATextarea",inheritAttrs:!1,props:a(),setup:function(e,t){var n=t.attrs,a=t.expose,u=t.emit,v=R(),p=A(void 0===e.value?e.defaultValue:e.value),b=A(),x=A(""),z=s("input",e),T=z.prefixCls,M=z.size,j=z.direction,k=y((function(){return""===e.showCount||e.showCount||!1})),O=y((function(){return Number(e.maxlength)>0})),_=A(!1),I=A(),V=A(0),N=function(e){_.value=!0,I.value=x.value,V.value=e.currentTarget.selectionStart,u("compositionstart",e)},G=function(t){var n;_.value=!1;var a=t.currentTarget.value;O.value&&(a=de(V.value>=e.maxlength+1||V.value===(null===(n=I.value)||void 0===n?void 0:n.length),I.value,a,e.maxlength));a!==x.value&&(D(a),r(t.currentTarget,t,X,a)),u("compositionend",t)},H=B();S((function(){return e.value}),(function(){var t;H.vnode.props,p.value=null!==(t=e.value)&&void 0!==t?t:""}));var U=function(e){var t;i(null===(t=b.value)||void 0===t?void 0:t.textArea,e)},D=function(t,n){p.value!==t&&(void 0===e.value?p.value=t:C((function(){var e,t,n;b.value.textArea.value!==x.value&&(null===(n=null===(e=b.value)||void 0===e?void 0:(t=e.instance).update)||void 0===n||n.call(t))})),C((function(){n&&n()})))},K=function(e){13===e.keyCode&&u("pressEnter",e),u("keydown",e)},W=function(t){var n=e.onBlur;null==n||n(t),v.onFieldBlur()},X=function(e){u("update:value",e.target.value),u("change",e),u("input",e),v.onFieldChange()},Y=function(e){r(b.value.textArea,e,X),D("",(function(){U()}))},L=function(t){var n=t.target.composing,a=t.target.value;if(_.value=!(!t.isComposing&&!n),!(_.value&&e.lazy||p.value===a)){if(O.value){var o=t.target;a=de(o.selectionStart>=e.maxlength+1||o.selectionStart===a.length||!o.selectionStart,x.value,a,e.maxlength)}r(t.currentTarget,t,X,a),D(a)}},Z=function(){var t,a,o,i=n.style,r=n.class,l=e.bordered,u=void 0===l||l,s=d(d(d({},E(e,["allowClear"])),n),{style:k.value?{}:i,class:(t={},c(t,"".concat(T.value,"-borderless"),!u),c(t,"".concat(r),r&&!k.value),c(t,"".concat(T.value,"-sm"),"small"===M.value),c(t,"".concat(T.value,"-lg"),"large"===M.value),t),showCount:null,prefixCls:T.value,onInput:L,onChange:L,onBlur:W,onKeydown:K,onCompositionstart:N,onCompositionend:G});return(null===(a=e.valueModifiers)||void 0===a?void 0:a.lazy)&&delete s.onInput,w(se,m(m({},s),{},{id:null!==(o=s.id)&&void 0!==o?o:v.id.value,ref:b,maxlength:e.maxlength}),null)};return P((function(){})),a({focus:U,blur:function(){var e,t;null===(t=null===(e=b.value)||void 0===e?void 0:e.textArea)||void 0===t||t.blur()},resizableTextArea:b}),F((function(){var t=l(p.value);_.value||!O.value||null!==e.value&&void 0!==e.value||(t=ce(t,e.maxlength)),x.value=t})),function(){var t=e.maxlength,a=e.bordered,i=void 0===a||a,r=e.hidden,l=n.style,u=n.class,s=d(d(d({},e),n),{prefixCls:T.value,inputType:"text",handleReset:Y,direction:j.value,bordered:i,style:k.value?void 0:l}),v=w(o,m(m({},s),{},{value:x.value}),{element:Z});if(k.value){var p=g(x.value).length,b="";b="object"===h(k.value)?k.value.formatter({count:p,maxlength:t}):"".concat(p).concat(O.value?" / ".concat(t):""),v=w("div",{hidden:r,class:f("".concat(T.value,"-textarea"),c({},"".concat(T.value,"-textarea-rtl"),"rtl"===j.value),"".concat(T.value,"-textarea-show-count"),u),style:l,"data-count":"object"!==h(b)?b:void 0},[v])}return v}}});n.Group=V,n.Search=oe,n.TextArea=ve,n.Password=u,n.install=function(e){return e.component(n.name,n),e.component(n.Group.name,n.Group),e.component(n.Search.name,n.Search),e.component(n.TextArea.name,n.TextArea),e.component(n.Password.name,n.Password),e};export{oe as _,ve as a};
