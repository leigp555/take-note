import{i as e,I as t,t as n,C as a,a as o,r as i,f as r}from"./index-8de529ea.js";import{c as l,a as u,_ as s,b as c,P as d,e as v,f as p,p as f,s as m,l as b}from"./default-add53953.js";import{d as g,a as h,c as x,r as y,D as w,s as A,B as z,j as S,L as C,K as P,w as j}from"./index-461f95cc.js";import{S as B}from"./SearchOutlined-f2638702.js";import"./index-97df7f35.js";import{c as T}from"./vnode-89a287a7.js";import{i as F,_ as M}from"./Password-954a6816.js";import{o as E}from"./omit-4992fbe8.js";import{B as k}from"./button-a54e8c4a.js";import{R as O}from"./index-761661f6.js";import{w as _}from"./raf-b2de4fce.js";import{a as I,u as R}from"./FormItemContext-4ebe2f02.js";var V=g({name:"AInputGroup",props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0},onMouseenter:{type:Function},onMouseleave:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup:function(e,t){var n=t.slots,a=l("input-group",e),o=a.prefixCls,i=a.direction,r=h((function(){var t,n=o.value;return u(t={},"".concat(n),!0),u(t,"".concat(n,"-lg"),"large"===e.size),u(t,"".concat(n,"-sm"),"small"===e.size),u(t,"".concat(n,"-compact"),e.compact),u(t,"".concat(n,"-rtl"),"rtl"===i.value),t}));return function(){var t;return x("span",{class:r.value,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},[null===(t=n.default)||void 0===t?void 0:t.call(n)])}}}),N=/iPhone/i,G=/iPod/i,H=/iPad/i,D=/\bAndroid(?:.+)Mobile\b/i,K=/Android/i,U=/\bAndroid(?:.+)SD4930UR\b/i,L=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,W=/Windows Phone/i,X=/\bWindows(?:.+)ARM\b/i,Y=/BlackBerry/i,Z=/BB10/i,q=/Opera Mini/i,J=/\b(CriOS|Chrome)(?:.+)Mobile/i,Q=/Mobile(?:.+)Firefox\b/i;function $(e,t){return e.test(t)}function ee(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");void 0!==n[1]&&(t=c(n,1)[0]);void 0!==(n=t.split("Twitter"))[1]&&(t=c(n,1)[0]);var a={apple:{phone:$(N,t)&&!$(W,t),ipod:$(G,t),tablet:!$(N,t)&&$(H,t)&&!$(W,t),device:($(N,t)||$(G,t)||$(H,t))&&!$(W,t)},amazon:{phone:$(U,t),tablet:!$(U,t)&&$(L,t),device:$(U,t)||$(L,t)},android:{phone:!$(W,t)&&$(U,t)||!$(W,t)&&$(D,t),tablet:!$(W,t)&&!$(U,t)&&!$(D,t)&&($(L,t)||$(K,t)),device:!$(W,t)&&($(U,t)||$(L,t)||$(D,t)||$(K,t))||$(/\bokhttp\b/i,t)},windows:{phone:$(W,t),tablet:$(X,t),device:$(W,t)||$(X,t)},other:{blackberry:$(Y,t),blackberry10:$(Z,t),opera:$(q,t),firefox:$(Q,t),chrome:$(J,t),device:$(Y,t)||$(Z,t)||$(q,t)||$(Q,t)||$(J,t)},any:null,phone:null,tablet:null};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var te,ne=s(s({},ee()),{isMobile:ee}),ae=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},oe=g({name:"AInputSearch",inheritAttrs:!1,props:s(s({},e()),{inputPrefixCls:String,enterButton:d.any,onSearch:{type:Function}}),setup:function(e,n){var a=n.slots,o=n.attrs,i=n.expose,r=n.emit,c=y();i({focus:function(){var e;null===(e=c.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=c.value)||void 0===e||e.blur()}});var d=function(e){r("update:value",e.target.value),e&&e.target&&"click"===e.type&&r("search",e.target.value,e),r("change",e)},f=function(e){var t;document.activeElement===(null===(t=c.value)||void 0===t?void 0:t.input)&&e.preventDefault()},m=function(e){var t;r("search",null===(t=c.value)||void 0===t?void 0:t.stateValue,e),ne.tablet||c.value.focus()},b=l("input-search",e),g=b.prefixCls,w=b.getPrefixCls,A=b.direction,z=b.size,S=h((function(){return w("input",e.inputPrefixCls)}));return function(){var n,i,r,l,b,h,y=e.disabled,w=e.loading,C=e.addonAfter,P=void 0===C?null===(i=a.addonAfter)||void 0===i?void 0:i.call(a):C,j=e.suffix,M=void 0===j?null===(r=a.suffix)||void 0===r?void 0:r.call(a):j,O=ae(e,["disabled","loading","addonAfter","suffix"]),_=e.enterButton,I=void 0===_?null!==(b=null===(l=a.enterButton)||void 0===l?void 0:l.call(a))&&void 0!==b&&b:_,R="boolean"==typeof(I=I||""===I)?x(B,null,null):null,V="".concat(g.value,"-button"),N=Array.isArray(I)?I[0]:I,G=N.type&&F(N.type)&&N.type.__ANT_BUTTON;if(G||"button"===N.tagName)h=T(N,s({onMousedown:f,onClick:m,key:"enterButton"},G?{class:V,size:z.value}:{}),!1);else{var H=R&&!I;h=x(k,{class:V,type:I?"primary":void 0,size:z.value,disabled:y,key:"enterButton",onMousedown:f,onClick:m,loading:w,icon:H?R:null},{default:function(){return[H?null:R||I]}})}P&&(h=[h,P]);var D=v(g.value,(u(n={},"".concat(g.value,"-rtl"),"rtl"===A.value),u(n,"".concat(g.value,"-").concat(z.value),!!z.value),u(n,"".concat(g.value,"-with-button"),!!I),n),o.class);return x(t,p(p(p({ref:c},E(O,["onUpdate:value","onSearch","enterButton"])),o),{},{onPressEnter:m,size:z.value,prefixCls:S.value,addonAfter:h,suffix:M,onChange:d,class:D,disabled:y}),a)}}}),ie="\n min-height:0 !important;\n max-height:none !important;\n height:0 !important;\n visibility:hidden !important;\n overflow:hidden !important;\n position:absolute !important;\n z-index:-1000 !important;\n top:0 !important;\n right:0 !important\n",re=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],le={};function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&le[n])return le[n];var a=window.getComputedStyle(e),o=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),i=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),r=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),l=re.map((function(e){return"".concat(e,":").concat(a.getPropertyValue(e))})).join(";"),u={sizingStyle:l,paddingSize:i,borderSize:r,boxSizing:o};return t&&n&&(le[n]=u),u}var se=g({name:"ResizableTextArea",inheritAttrs:!1,props:n(),setup:function(e,t){var n,a,o=t.attrs,i=t.emit,r=t.expose,l=y(),c=y({}),d=y(0);w((function(){_.cancel(n),_.cancel(a)}));var m=function(){var t=e.autoSize||e.autosize;if(t&&l.value){var n=t.minRows,o=t.maxRows;c.value=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;te||((te=document.createElement("textarea")).setAttribute("tab-index","-1"),te.setAttribute("aria-hidden","true"),document.body.appendChild(te)),e.getAttribute("wrap")?te.setAttribute("wrap",e.getAttribute("wrap")):te.removeAttribute("wrap");var o=ue(e,t),i=o.paddingSize,r=o.borderSize,l=o.boxSizing,u=o.sizingStyle;te.setAttribute("style","".concat(u,";").concat(ie)),te.value=e.value||e.placeholder||"";var s,c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,v=te.scrollHeight;if("border-box"===l?v+=r:"content-box"===l&&(v-=i),null!==n||null!==a){te.value=" ";var p=te.scrollHeight-i;null!==n&&(c=p*n,"border-box"===l&&(c=c+i+r),v=Math.max(c,v)),null!==a&&(d=p*a,"border-box"===l&&(d=d+i+r),s=v>d?"":"hidden",v=Math.min(d,v))}return{height:"".concat(v,"px"),minHeight:"".concat(c,"px"),maxHeight:"".concat(d,"px"),overflowY:s,resize:"none"}}(l.value,!1,n,o),d.value=1,_.cancel(a),a=_((function(){d.value=2,a=_((function(){d.value=0,function(){try{if(document.activeElement===l.value){var e=l.value.selectionStart,t=l.value.selectionEnd;l.value.setSelectionRange(e,t)}}catch(n){}}()}))}))}},b=function(t){0===d.value&&(i("resize",t),(e.autoSize||e.autosize)&&(_.cancel(n),n=_(m)))};f(void 0===e.autosize,"Input.TextArea","autosize is deprecated, please use autoSize instead.");A((function(){return e.value}),(function(){z((function(){m()}))})),S((function(){z((function(){m()}))}));var g=P();return r({resizeTextarea:m,textArea:l,instance:g}),function(){return t=e.prefixCls,n=e.autoSize,a=e.autosize,i=e.disabled,r=E(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),f=v(t,o.class,u({},"".concat(t,"-disabled"),i)),m=[o.style,c.value,1===d.value?{overflowX:"hidden",overflowY:"hidden"}:null],(g=s(s(s({},r),o),{style:m,class:f})).autofocus||delete g.autofocus,0===g.rows&&delete g.rows,x(O,{onResize:b,disabled:!(n||a)},{default:function(){return[C(x("textarea",p(p({},g),{},{ref:l}),null),[[I]])]}});var t,n,a,i,r,f,m,g}}});function ce(e,t){return m(e||"").slice(0,t).join("")}function de(e,t,n,a){var o=n;return e?o=ce(n,a):m(t||"").length<n.length&&m(n||"").length>a&&(o=t),o}var ve=g({name:"ATextarea",inheritAttrs:!1,props:n(),setup:function(e,t){var n=t.attrs,c=t.expose,d=t.emit,f=R(),g=y(void 0===e.value?e.defaultValue:e.value),w=y(),C=y(""),B=l("input",e),T=B.prefixCls,F=B.size,M=B.direction,k=h((function(){return""===e.showCount||e.showCount||!1})),O=h((function(){return Number(e.maxlength)>0})),_=y(!1),I=y(),V=y(0),N=function(e){_.value=!0,I.value=C.value,V.value=e.currentTarget.selectionStart,d("compositionstart",e)},G=function(t){var n;_.value=!1;var a=t.currentTarget.value;O.value&&(a=de(V.value>=e.maxlength+1||V.value===(null===(n=I.value)||void 0===n?void 0:n.length),I.value,a,e.maxlength));a!==C.value&&(K(a),i(t.currentTarget,t,W,a)),d("compositionend",t)},H=P();A((function(){return e.value}),(function(){var t;H.vnode.props,g.value=null!==(t=e.value)&&void 0!==t?t:""}));var D=function(e){var t;o(null===(t=w.value)||void 0===t?void 0:t.textArea,e)},K=function(t,n){g.value!==t&&(void 0===e.value?g.value=t:z((function(){var e,t,n;w.value.textArea.value!==C.value&&(null===(n=null===(e=w.value)||void 0===e?void 0:(t=e.instance).update)||void 0===n||n.call(t))})),z((function(){n&&n()})))},U=function(e){13===e.keyCode&&d("pressEnter",e),d("keydown",e)},L=function(t){var n=e.onBlur;null==n||n(t),f.onFieldBlur()},W=function(e){d("update:value",e.target.value),d("change",e),d("input",e),f.onFieldChange()},X=function(e){i(w.value.textArea,e,W),K("",(function(){D()}))},Y=function(t){var n=t.target.composing,a=t.target.value;if(_.value=!(!t.isComposing&&!n),!(_.value&&e.lazy||g.value===a)){if(O.value){var o=t.target;a=de(o.selectionStart>=e.maxlength+1||o.selectionStart===a.length||!o.selectionStart,C.value,a,e.maxlength)}i(t.currentTarget,t,W,a),K(a)}},Z=function(){var t,a,o,i=n.style,r=n.class,l=e.bordered,c=void 0===l||l,d=s(s(s({},E(e,["allowClear"])),n),{style:k.value?{}:i,class:(t={},u(t,"".concat(T.value,"-borderless"),!c),u(t,"".concat(r),r&&!k.value),u(t,"".concat(T.value,"-sm"),"small"===F.value),u(t,"".concat(T.value,"-lg"),"large"===F.value),t),showCount:null,prefixCls:T.value,onInput:Y,onChange:Y,onBlur:L,onKeydown:U,onCompositionstart:N,onCompositionend:G});return(null===(a=e.valueModifiers)||void 0===a?void 0:a.lazy)&&delete d.onInput,x(se,p(p({},d),{},{id:null!==(o=d.id)&&void 0!==o?o:f.id.value,ref:w,maxlength:e.maxlength}),null)};return S((function(){})),c({focus:D,blur:function(){var e,t;null===(t=null===(e=w.value)||void 0===e?void 0:e.textArea)||void 0===t||t.blur()},resizableTextArea:w}),j((function(){var t=r(g.value);_.value||!O.value||null!==e.value&&void 0!==e.value||(t=ce(t,e.maxlength)),C.value=t})),function(){var t=e.maxlength,o=e.bordered,i=void 0===o||o,r=e.hidden,l=n.style,c=n.class,d=s(s(s({},e),n),{prefixCls:T.value,inputType:"text",handleReset:X,direction:M.value,bordered:i,style:k.value?void 0:l}),f=x(a,p(p({},d),{},{value:C.value}),{element:Z});if(k.value){var g=m(C.value).length,h="";h="object"===b(k.value)?k.value.formatter({count:g,maxlength:t}):"".concat(g).concat(O.value?" / ".concat(t):""),f=x("div",{hidden:r,class:v("".concat(T.value,"-textarea"),u({},"".concat(T.value,"-textarea-rtl"),"rtl"===M.value),"".concat(T.value,"-textarea-show-count"),c),style:l,"data-count":"object"!==b(h)?h:void 0},[f])}return f}}});t.Group=V,t.Search=oe,t.TextArea=ve,t.Password=M,t.install=function(e){return e.component(t.name,t),e.component(t.Group.name,t.Group),e.component(t.Search.name,t.Search),e.component(t.TextArea.name,t.TextArea),e.component(t.Password.name,t.Password),e};export{oe as _,ve as a};
