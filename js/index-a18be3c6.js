import{d as n,l as t,P as e,L as a,T as i,m as o,_ as r,e as l,a as u,n as c,o as s}from"./default-6e83181f.js";import{w as d,i as f}from"./raf-cb3d651e.js";import{d as v,f as m,n as p,o as g,H as y,c as b,r as E,a as h,b as T,e as S,I as A,T as k}from"./index-51d32f2b.js";var x={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},w={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},L=[],B=[];function C(n,t,e){n.addEventListener(t,e,!1)}function M(n,t,e){n.removeEventListener(t,e,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var n=document.createElement("div").style;function t(t,e){for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];for(var o in i)if(o in n){e.push(i[o]);break}}}"AnimationEvent"in window||(delete x.animationstart.animation,delete w.animationend.animation),"TransitionEvent"in window||(delete x.transitionstart.transition,delete w.transitionend.transition),t(x,L),t(w,B)}();var N,z={startEvents:L,addStartEventListener:function(n,t){0!==L.length?L.forEach((function(e){C(n,e,t)})):setTimeout(t,0)},removeStartEventListener:function(n,t){0!==L.length&&L.forEach((function(e){M(n,e,t)}))},endEvents:B,addEndEventListener:function(n,t){0!==B.length?B.forEach((function(e){C(n,e,t)})):setTimeout(t,0)},removeEndEventListener:function(n,t){0!==B.length&&B.forEach((function(e){M(n,e,t)}))}};function O(n){return!n||null===n.offsetParent}var I=v({name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(e,a){var i=a.slots,o=a.expose,r=y(),l=n("",e),u=l.csp,c=l.prefixCls;o({csp:u});var s=null,f=null,v=null,b=!1,E=null,h=!1,T=function(n){if(!h){var e=t(r);n&&n.target===e&&(b||k(e))}},S=function(n){n&&"fadeEffect"===n.animationName&&k(n.target)},A=function(){var n=e.insertExtraNode;return"".concat(c.value,n?"-click-animating":"-click-animating-without-extra-node")},k=function(n){if(n&&n!==E&&n instanceof Element){var t=e.insertExtraNode,a=A();n.setAttribute(a,"false"),N&&(N.innerHTML=""),t&&E&&n.contains(E)&&n.removeChild(E),z.removeStartEventListener(n,T),z.removeEndEventListener(n,S)}},x=function(n){if(n&&n.getAttribute&&!n.getAttribute("disabled")&&!(n.className.indexOf("disabled")>=0)){var t=function(t){if("INPUT"!==t.target.tagName&&!O(t.target)){k(n);var a=getComputedStyle(n).getPropertyValue("border-top-color")||getComputedStyle(n).getPropertyValue("border-color")||getComputedStyle(n).getPropertyValue("background-color");f=setTimeout((function(){return function(n,t){var a,i=e.insertExtraNode;if(!(e.disabled||!n||O(n)||n.className.indexOf("-leave")>=0)){(E=document.createElement("div")).className="".concat(c.value,"-click-animating-node");var o,r=A();n.removeAttribute(r),n.setAttribute(r,"true"),N=N||document.createElement("style"),!t||"#ffffff"===t||"rgb(255, 255, 255)"===t||(o=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/))&&o[1]&&o[2]&&o[3]&&o[1]===o[2]&&o[2]===o[3]||/rgba\(\d*, \d*, \d*, 0\)/.test(t)||"transparent"===t||((null===(a=u.value)||void 0===a?void 0:a.nonce)&&(N.nonce=u.value.nonce),E.style.borderColor=t,N.innerHTML="\n        [".concat(c.value,"-click-animating-without-extra-node='true']::after, .").concat(c.value,"-click-animating-node {\n          --antd-wave-shadow-color: ").concat(t,";\n        }"),document.body.contains(N)||document.body.appendChild(N)),i&&n.appendChild(E),z.addStartEventListener(n,T),z.addEndEventListener(n,S)}}(n,a)}),0),d.cancel(v),b=!0,v=d((function(){b=!1}),10)}};return n.addEventListener("click",t,!0),{cancel:function(){n.removeEventListener("click",t,!0)}}}};return m((function(){p((function(){var n=t(r);1===n.nodeType&&(s=x(n))}))})),g((function(){s&&s.cancel(),clearTimeout(f),h=!0})),function(){var n;return null===(n=i.default)||void 0===n?void 0:n.call(i)[0]}}});function j(n){return"danger"===n?{danger:!0}:{type:n}}var P=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:e.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}},W=function(n){n&&(n.style.width="0px",n.style.opacity="0",n.style.transform="scale(0)")},_=function(n){p((function(){n&&(n.style.width="".concat(n.scrollWidth,"px"),n.style.opacity="1",n.style.transform="scale(1)")}))},H=function(n){n&&n.style&&(n.style.width=null,n.style.opacity=null,n.style.transform=null)},V=v({name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(n){return function(){var t=n.existIcon,e=n.prefixCls,o=n.loading;if(t)return b("span",{class:"".concat(e,"-loading-icon")},[b(a,null,null)]);var r=!!o;return b(i,{name:"".concat(e,"-loading-icon-motion"),onBeforeEnter:W,onEnter:_,onAfterEnter:H,onBeforeLeave:_,onLeave:function(n){setTimeout((function(){W(n)}))},onAfterLeave:H},{default:function(){return[r?b("span",{class:"".concat(e,"-loading-icon")},[b(a,null,null)]):null]}})}}}),F=/^[\u4e00-\u9fa5]{2}$/,U=F.test.bind(F);function D(n){return"text"===n||"link"===n}var $=v({name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:f(P(),{type:"default"}),slots:["icon"],setup:function(t,e){var a=e.slots,i=e.attrs,d=e.emit,f=n("btn",t),v=f.prefixCls,p=f.autoInsertSpaceInButton,y=f.direction,x=f.size,w=E(null),L=E(void 0),B=!1,C=E(!1),M=E(!1),N=h((function(){return!1!==p.value})),z=h((function(){return"object"===c(t.loading)&&t.loading.delay?t.loading.delay||!0:!!t.loading}));T(z,(function(n){clearTimeout(L.value),"number"==typeof z.value?L.value=setTimeout((function(){C.value=n}),z.value):C.value=n}),{immediate:!0});var O=h((function(){var n,e=t.type,a=t.shape,i=void 0===a?"default":a,o=t.ghost,r=t.block,u=t.danger,c=v.value,s=x.value,d=s&&{large:"lg",small:"sm",middle:void 0}[s]||"";return l(n={},"".concat(c),!0),l(n,"".concat(c,"-").concat(e),e),l(n,"".concat(c,"-").concat(i),"default"!==i&&i),l(n,"".concat(c,"-").concat(d),d),l(n,"".concat(c,"-loading"),C.value),l(n,"".concat(c,"-background-ghost"),o&&!D(e)),l(n,"".concat(c,"-two-chinese-chars"),M.value&&N.value),l(n,"".concat(c,"-block"),r),l(n,"".concat(c,"-dangerous"),!!u),l(n,"".concat(c,"-rtl"),"rtl"===y.value),n})),j=function(){var n=w.value;if(n&&!1!==p.value){var t=n.textContent;B&&U(t)?M.value||(M.value=!0):M.value&&(M.value=!1)}},P=function(n){C.value||t.disabled?n.preventDefault():d("click",n)};return S((function(){s(!(t.ghost&&D(t.type)),"Button","`link` or `text` button can't be a `ghost` button.")})),m(j),A(j),g((function(){L.value&&clearTimeout(L.value)})),function(){var n,e,c=t.icon,s=void 0===c?null===(n=a.icon)||void 0===n?void 0:n.call(a):c,d=o(null===(e=a.default)||void 0===e?void 0:e.call(a));B=1===d.length&&!s&&!D(t.type);var f=t.type,m=t.htmlType,p=t.disabled,g=t.href,y=t.title,E=t.target,h=t.onMousedown,T=C.value?"loading":s,S=r(r({},i),{title:y,disabled:p,class:[O.value,i.class,l({},"".concat(v.value,"-icon-only"),0===d.length&&!!T)],onClick:P,onMousedown:h});p||delete S.disabled;var A=s&&!C.value?s:b(V,{existIcon:!!s,prefixCls:v.value,loading:!!C.value},null),x=d.map((function(n){return function(n,t){var e=t?" ":"";if(n.type===k){var a=n.children.trim();return U(a)&&(a=a.split("").join(e)),b("span",null,[a])}return n}(n,B&&N.value)}));if(void 0!==g)return b("a",u(u({},S),{},{href:g,target:E,ref:w}),[A,x]);var L=b("button",u(u({},S),{},{ref:w,type:m}),[A,x]);return D(f)?L:b(I,{ref:"wave",disabled:!!C.value},{default:function(){return[L]}})}}});export{$ as B,j as c};
