import{P as e,a as o,e as n,h as t,T as a,l,j as r,o as i,m as s,n as u,u as c,c as f,C as d,p as v,I as p,q as m,r as y,E as C,s as b,t as g}from"./default-2f02cdfe.js";import{c as k,a as x}from"./contains-1f9afa2c.js";import{K as h}from"./KeyCode-a2a1cb88.js";import{p as T}from"./pickAttrs-f546297e.js";import{d as w,r as N,b as P,c as S,e as B,v as O,I as j,w as A,o as F,h as I,F as R,f as E,G as M}from"./index-70faa8b0.js";import{P as L}from"./PortalWrapper-2abd6bad.js";import{u as z}from"./Portal-0969f927.js";import"./index-ec12c32f.js";import{B as V,c as D}from"./index-530686a9.js";import{c as K}from"./styleChecker-5bc5c64b.js";function q(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:e.shape({x:Number,y:Number}).loose,title:e.any,footer:e.any,transitionName:String,maskTransitionName:String,animation:e.any,maskAnimation:e.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:e.any,maskProps:e.any,wrapProps:e.any,getContainer:e.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:e.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function W(e,o,n){var t=o;return!t&&n&&(t="".concat(e,"-").concat(n)),t}var _=-1;function G(e,o){var n=e["page".concat(o?"Y":"X","Offset")],t="scroll".concat(o?"Top":"Left");if("number"!=typeof n){var a=e.document;"number"!=typeof(n=a.documentElement[t])&&(n=a.body[t])}return n}var U={width:0,height:0,overflow:"hidden",outline:"none"},X=w({name:"Content",inheritAttrs:!1,props:o(o({},q()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,o){var l=o.expose,r=o.slots,i=o.attrs,s=N(),u=N(),c=N();l({focus:function(){var e;null===(e=s.value)||void 0===e||e.focus()},changeActive:function(e){var o=document.activeElement;e&&o===u.value?s.value.focus():e||o!==s.value||u.value.focus()}});var f=N(),d=P((function(){var o=e.width,n=e.height,t={};return void 0!==o&&(t.width="number"==typeof o?"".concat(o,"px"):o),void 0!==n&&(t.height="number"==typeof n?"".concat(n,"px"):n),f.value&&(t.transformOrigin=f.value),t})),v=function(){j((function(){if(c.value){var o=(n=c.value,t=n.getBoundingClientRect(),a={left:t.left,top:t.top},l=n.ownerDocument,r=l.defaultView||l.parentWindow,a.left+=G(r),a.top+=G(r,!0),a);f.value=e.mousePosition?"".concat(e.mousePosition.x-o.left,"px ").concat(e.mousePosition.y-o.top,"px"):""}var n,t,a,l,r}))},p=function(o){e.onVisibleChanged(o)};return function(){var o,l,f,m,y,C,b,g=e.prefixCls,k=e.footer,x=void 0===k?null===(o=r.footer)||void 0===o?void 0:o.call(r):k,h=e.title,T=void 0===h?null===(l=r.title)||void 0===l?void 0:l.call(r):h,w=e.ariaId,N=e.closable,P=e.closeIcon,j=void 0===P?null===(f=r.closeIcon)||void 0===f?void 0:f.call(r):P,A=e.onClose,F=e.bodyStyle,I=e.bodyProps,R=e.onMousedown,E=e.onMouseup,M=e.visible,L=e.modalRender,z=void 0===L?r.modalRender:L,V=e.destroyOnClose,D=e.motionName;x&&(y=S("div",{class:"".concat(g,"-footer")},[x])),T&&(C=S("div",{class:"".concat(g,"-header")},[S("div",{class:"".concat(g,"-title"),id:w},[T])])),N&&(b=S("button",{type:"button",onClick:A,"aria-label":"Close",class:"".concat(g,"-close")},[j||S("span",{class:"".concat(g,"-close-x")},null)]));var K=S("div",{class:"".concat(g,"-content")},[b,C,S("div",n({class:"".concat(g,"-body"),style:F},I),[null===(m=r.default)||void 0===m?void 0:m.call(r)]),y]),q=t(D);return S(a,n(n({},q),{},{onBeforeEnter:v,onAfterEnter:function(){return p(!0)},onAfterLeave:function(){return p(!1)}}),{default:function(){return[M||!V?B(S("div",n(n({},i),{},{ref:c,key:"dialog-element",role:"document",style:[d.value,i.style],class:[g,i.class],onMousedown:R,onMouseup:E}),[S("div",{tabindex:0,ref:s,style:U,"aria-hidden":"true"},null),z?z({originVNode:K}):K,S("div",{tabindex:0,ref:u,style:U,"aria-hidden":"true"},null)]),[[O,M]]):null]}})}}});var Y=w({name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,o){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(o),function(){var o=e.prefixCls,l=e.visible,r=e.maskProps,i=e.motionName,s=t(i);return S(a,s,{default:function(){return[B(S("div",n({class:"".concat(o,"-mask")},r),null),[[O,l]])]}})}}}),$=w({name:"Dialog",inheritAttrs:!1,props:l(o(o({},q()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,t){var a=t.attrs,l=t.slots,s=N(),u=N(),c=N(),f=N(e.visible),d=N("vcDialogTitle".concat(_+=1)),v=function(o){var n,t;if(o)k(u.value,document.activeElement)||(s.value=document.activeElement,null===(n=c.value)||void 0===n||n.focus());else{var a=f.value;if(f.value=!1,e.mask&&s.value&&e.focusTriggerAfterClose){try{s.value.focus({preventScroll:!0})}catch(l){}s.value=null}a&&(null===(t=e.afterClose)||void 0===t||t.call(e))}},p=function(o){var n;null===(n=e.onClose)||void 0===n||n.call(e,o)},m=N(!1),y=N(),C=function(){clearTimeout(y.value),m.value=!0},b=function(){y.value=setTimeout((function(){m.value=!1}))},g=function(o){if(!e.maskClosable)return null;m.value?m.value=!1:u.value===o.target&&p(o)},x=function(o){if(e.keyboard&&o.keyCode===h.ESC)return o.stopPropagation(),void p(o);e.visible&&o.keyCode===h.TAB&&c.value.changeActive(!o.shiftKey)};return A((function(){return e.visible}),(function(){e.visible&&(f.value=!0)}),{flush:"post"}),F((function(){var o;clearTimeout(y.value),null===(o=e.scrollLocker)||void 0===o||o.unLock()})),I((function(){var o,n;null===(o=e.scrollLocker)||void 0===o||o.unLock(),f.value&&(null===(n=e.scrollLocker)||void 0===n||n.lock())})),function(){var t=e.prefixCls,s=e.mask,m=e.visible,y=e.maskTransitionName,k=e.maskAnimation,h=e.zIndex,w=e.wrapClassName,N=e.rootClassName,P=e.wrapStyle,B=e.closable,O=e.maskProps,j=e.maskStyle,A=e.transitionName,F=e.animation,I=e.wrapProps,R=e.title,E=void 0===R?l.title:R,M=a.style,L=a.class;return S("div",n({class:["".concat(t,"-root"),N]},T(e,{data:!0})),[S(Y,{prefixCls:t,visible:s&&m,motionName:W(t,y,k),style:o({zIndex:h},j),maskProps:O},null),S("div",n({tabIndex:-1,onKeydown:x,class:r("".concat(t,"-wrap"),w),ref:u,onClick:g,role:"dialog","aria-labelledby":E?d.value:null,style:o(o({zIndex:h},P),{display:f.value?null:"none"})},I),[S(X,n(n({},i(e,["scrollLocker"])),{},{style:M,class:L,onMousedown:C,onMouseup:b,ref:c,closable:B,ariaId:d.value,prefixCls:t,visible:m,onClose:p,onVisibleChanged:v,motionName:W(t,A,F)}),l)])])}}}),H=w({name:"DialogWrap",inheritAttrs:!1,props:l(q(),{visible:!1}),setup:function(e,t){var a=t.attrs,l=t.slots,r=N(e.visible);return z({},{inTriggerContext:!1}),A((function(){return e.visible}),(function(){e.visible&&(r.value=!0)}),{flush:"post"}),function(){var t=e.visible,i=e.getContainer,s=e.forceRender,u=e.destroyOnClose,c=void 0!==u&&u,f=e.afterClose,d=o(o(o({},e),a),{ref:"_component",key:"dialog"});return!1===i?S($,n(n({},d),{},{getOpenCount:function(){return 2}}),l):s||!c||r.value?S(L,{visible:t,forceRender:s,getContainer:i},{default:function(e){return d=o(o(o({},d),e),{afterClose:function(){null==f||f(),r.value=!1}}),S($,d,l)}}):null}}}),J=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n},Q=null;K()&&x(document.documentElement,"click",(function(e){Q={x:e.pageX,y:e.pageY},setTimeout((function(){return Q=null}),100)}),!0);var Z=[],ee=w({name:"AModal",inheritAttrs:!1,props:l({prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:e.any,closable:{type:Boolean,default:void 0},closeIcon:e.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:e.any,okText:e.any,okType:String,cancelText:e.any,icon:e.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function},{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,t){var a=t.emit,l=t.slots,i=t.attrs,p=s("Modal"),m=u(p,1)[0],y=c("modal",e),C=y.prefixCls,b=y.rootPrefixCls,g=y.direction,k=y.getPopupContainer,x=function(e){a("update:visible",!1),a("cancel",e),a("change",!1)},h=function(e){a("ok",e)},T=function(){var o,t,a=e.okText,r=void 0===a?null===(o=l.okText)||void 0===o?void 0:o.call(l):a,i=e.okType,s=e.cancelText,u=void 0===s?null===(t=l.cancelText)||void 0===t?void 0:t.call(l):s,c=e.confirmLoading;return S(R,null,[S(V,n({onClick:x},e.cancelButtonProps),{default:function(){return[u||m.value.cancelText]}}),S(V,n(n({},D(i)),{},{loading:c,onClick:h},e.okButtonProps),{default:function(){return[r||m.value.okText]}})])};return function(){var t,a;e.prefixCls;var s=e.visible,u=e.wrapClassName,c=e.centered,p=e.getContainer,m=e.closeIcon,y=void 0===m?null===(a=l.closeIcon)||void 0===a?void 0:a.call(l):m,h=e.focusTriggerAfterClose,w=void 0===h||h,N=J(e,["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),P=r(u,(f(t={},"".concat(C.value,"-centered"),!!c),f(t,"".concat(C.value,"-wrap-rtl"),"rtl"===g.value),t));return S(H,n(n(n({},N),i),{},{getContainer:p||k.value,prefixCls:C.value,wrapClassName:P,visible:s,mousePosition:Q,onClose:x,focusTriggerAfterClose:w,transitionName:v(b.value,"zoom",e.transitionName),maskTransitionName:v(b.value,"fade",e.maskTransitionName)}),o(o({},l),{footer:l.footer||T,closeIcon:function(){return S("span",{class:"".concat(C.value,"-close-x")},[y||S(d,{class:"".concat(C.value,"-close-icon")},null)])}}))}}}),oe=function(){var e=N(!1);return F((function(){e.value=!0})),e};function ne(e){return!(!e||!e.then)}var te=w({name:"ActionButton",props:{type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean},setup:function(e,o){var t,a=o.slots,l=N(!1),r=N(),i=N(!1),s=oe();E((function(){e.autofocus&&(t=setTimeout((function(){var e;return null===(e=r.value.$el)||void 0===e?void 0:e.focus()})))})),F((function(){clearTimeout(t)}));var u=function(o){var n=e.actionFn,t=e.close,a=void 0===t?function(){}:t;if(!l.value)if(l.value=!0,n){var r;if(e.emitEvent){if(r=n(o),e.quitOnNullishReturnValue&&!ne(r))return l.value=!1,void a(o)}else if(n.length)r=n(a),l.value=!1;else if(!(r=n()))return void a();!function(o){var n=e.close;ne(o)&&(i.value=!0,o.then((function(){s.value||(i.value=!1),n.apply(void 0,arguments),l.value=!1}),(function(e){s.value||(i.value=!1),l.value=!1})))}(r)}else a()};return function(){var o=e.type,t=e.prefixCls,l=e.buttonProps;return S(V,n(n(n({},D(o)),{},{onClick:u,loading:i.value,prefixCls:t},l),{},{ref:r}),a)}}});function ae(e){return"function"==typeof e?e():e}var le=w({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,o){var n=o.attrs,t=s("Modal"),a=u(t,1)[0];return function(){var o=e.icon,t=e.onCancel,l=e.onOk,i=e.close,s=e.closable,u=void 0!==s&&s,c=e.zIndex,d=e.afterClose,p=e.visible,m=e.keyboard,y=e.centered,C=e.getContainer,b=e.maskStyle,g=e.okButtonProps,k=e.cancelButtonProps,x=e.okCancel,h=void 0===x||x,T=e.width,w=void 0===T?416:T,N=e.mask,P=void 0===N||N,B=e.maskClosable,O=void 0!==B&&B,j=e.type,A=e.title,F=e.content,I=e.direction,R=e.closeIcon,E=e.modalRender,M=e.focusTriggerAfterClose,L=e.rootPrefixCls,z=e.bodyStyle,V=e.wrapClassName,D=e.okType||"primary",K=e.prefixCls||"ant-modal",q="".concat(K,"-confirm"),W=n.style||{},_=ae(e.okText)||(h?a.value.okText:a.value.justOkText),G=ae(e.cancelText)||a.value.cancelText,U=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),X=r(q,"".concat(q,"-").concat(j),"".concat(K,"-").concat(j),f({},"".concat(q,"-rtl"),"rtl"===I),n.class),Y=h&&S(te,{actionFn:t,close:i,autofocus:"cancel"===U,buttonProps:k,prefixCls:"".concat(L,"-btn")},{default:function(){return[G]}});return S(ee,{prefixCls:K,class:X,wrapClassName:r(f({},"".concat(q,"-centered"),!!y),V),onCancel:function(e){return i({triggerCancel:!0},e)},visible:p,title:"",footer:"",transitionName:v(L,"zoom",e.transitionName),maskTransitionName:v(L,"fade",e.maskTransitionName),mask:P,maskClosable:O,maskStyle:b,style:W,bodyStyle:z,width:w,zIndex:c,afterClose:d,keyboard:m,centered:y,getContainer:C,closable:u,closeIcon:R,modalRender:E,focusTriggerAfterClose:M},{default:function(){return[S("div",{class:"".concat(q,"-body-wrapper")},[S("div",{class:"".concat(q,"-body")},[ae(o),void 0===A?null:S("span",{class:"".concat(q,"-title")},[ae(A)]),S("div",{class:"".concat(q,"-content")},[ae(F)])]),S("div",{class:"".concat(q,"-btns")},[Y,S(te,{type:D,actionFn:l,close:i,autofocus:"ok"===U,buttonProps:g,prefixCls:"".concat(L,"-btn")},{default:function(){return[_]}})])])]}})}}}),re=function(e){var t=document.createDocumentFragment(),a=o(o({},i(e,["parentContext","appContext"])),{close:s,visible:!0}),l=null;function r(){l&&(M(null,t),l.component.update(),l=null);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];var r=n.some((function(e){return e&&e.triggerCancel}));e.onCancel&&r&&e.onCancel.apply(e,n);for(var i=0;i<Z.length;i++){var u=Z[i];if(u===s){Z.splice(i,1);break}}}function s(){for(var n=this,t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];u(a=o(o({},a),{visible:!1,afterClose:function(){"function"==typeof e.afterClose&&e.afterClose(),r.apply(n,l)}}))}function u(e){a="function"==typeof e?e(a):o(o({},a),e),l&&(o(l.component.props,a),l.component.update())}var c,f=function(e){var o=g,t=o.prefixCls,a=e.prefixCls||"".concat(t,"-modal");return S(b,n(n({},o),{},{notUpdateGlobalConfig:!0,prefixCls:t}),{default:function(){return[S(le,n(n({},e),{},{rootPrefixCls:t,prefixCls:a}),null)]}})};return(c=S(f,o({},a))).appContext=e.parentContext||e.appContext||c.appContext,M(c,t),l=c,Z.push(s),{destroy:s,update:u}};function ie(e){return re(function(e){return o(o({icon:function(){return S(C,null,null)},okCancel:!1},e),{type:"warning"})}(e))}ee.info=function(e){return re(function(e){return o(o({icon:function(){return S(p,null,null)},okCancel:!1},e),{type:"info"})}(e))},ee.success=function(e){return re(function(e){return o(o({icon:function(){return S(m,null,null)},okCancel:!1},e),{type:"success"})}(e))},ee.error=function(e){return re(function(e){return o(o({icon:function(){return S(y,null,null)},okCancel:!1},e),{type:"error"})}(e))},ee.warning=ie,ee.warn=ie,ee.confirm=function(e){return re(function(e){return o(o({icon:function(){return S(C,null,null)},okCancel:!0},e),{type:"confirm"})}(e))},ee.destroyAll=function(){for(;Z.length;){var e=Z.pop();e&&e()}},ee.install=function(e){return e.component(ee.name,ee),e};export{ee as M};
