import{_ as n,u as t,E as e,P as a,L as i,T as o,g as r,d as l,b as u,f as c,l as s}from"./default-94dd01ba.js";import{d,e as f,q as v,g as m,l as p,a as g,r as y,c as b,b as E,k as h,u as T,M as w}from"./index-7f18b97f.js";var A=function(t,e){var a=n({},t);return Object.keys(e).forEach((function(n){var t=a[n];if(!t)throw new Error("not have ".concat(n," prop"));t.type||t.default?t.default=e[n]:t.def?t.def(e[n]):a[n]={type:t,default:e[n]}})),a},S=function(n){return setTimeout(n,16)},k=function(n){return clearTimeout(n)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(S=function(n){return window.requestAnimationFrame(n)},k=function(n){return window.cancelAnimationFrame(n)});var x=0,L=new Map;function B(n){L.delete(n)}function C(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=x+=1;function a(t){if(0===t)B(e),n();else{var i=S((function(){a(t-1)}));L.set(e,i)}}return a(t),e}function M(t,e){for(var a=n({},t),i=0;i<e.length;i+=1){delete a[e[i]]}return a}C.cancel=function(n){var t=L.get(n);return B(t),k(t)};var N={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},O={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},z=[],j=[];function I(n,t,e){n.addEventListener(t,e,!1)}function P(n,t,e){n.removeEventListener(t,e,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var n=document.createElement("div").style;function t(t,e){for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];for(var o in i)if(o in n){e.push(i[o]);break}}}"AnimationEvent"in window||(delete N.animationstart.animation,delete O.animationend.animation),"TransitionEvent"in window||(delete N.transitionstart.transition,delete O.transitionend.transition),t(N,z),t(O,j)}();var W,F={startEvents:z,addStartEventListener:function(n,t){0!==z.length?z.forEach((function(e){I(n,e,t)})):setTimeout(t,0)},removeStartEventListener:function(n,t){0!==z.length&&z.forEach((function(e){P(n,e,t)}))},endEvents:j,addEndEventListener:function(n,t){0!==j.length?j.forEach((function(e){I(n,e,t)})):setTimeout(t,0)},removeEndEventListener:function(n,t){0!==j.length&&j.forEach((function(e){P(n,e,t)}))}};function _(n){return!n||null===n.offsetParent}var q=d({name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,a){var i=a.slots,o=a.expose,r=p(),l=t("",n),u=l.csp,c=l.prefixCls;o({csp:u});var s=null,d=null,g=null,y=!1,b=null,E=!1,h=function(n){if(!E){var t=e(r);n&&n.target===t&&(y||A(t))}},T=function(n){n&&"fadeEffect"===n.animationName&&A(n.target)},w=function(){var t=n.insertExtraNode;return"".concat(c.value,t?"-click-animating":"-click-animating-without-extra-node")},A=function(t){if(t&&t!==b&&t instanceof Element){var e=n.insertExtraNode,a=w();t.setAttribute(a,"false"),W&&(W.innerHTML=""),e&&b&&t.contains(b)&&t.removeChild(b),F.removeStartEventListener(t,h),F.removeEndEventListener(t,T)}},S=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var e=function(e){if("INPUT"!==e.target.tagName&&!_(e.target)){A(t);var a=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");d=setTimeout((function(){return function(t,e){var a,i=n.insertExtraNode;if(!(n.disabled||!t||_(t)||t.className.indexOf("-leave")>=0)){(b=document.createElement("div")).className="".concat(c.value,"-click-animating-node");var o,r=w();t.removeAttribute(r),t.setAttribute(r,"true"),W=W||document.createElement("style"),!e||"#ffffff"===e||"rgb(255, 255, 255)"===e||(o=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/))&&o[1]&&o[2]&&o[3]&&o[1]===o[2]&&o[2]===o[3]||/rgba\(\d*, \d*, \d*, 0\)/.test(e)||"transparent"===e||((null===(a=u.value)||void 0===a?void 0:a.nonce)&&(W.nonce=u.value.nonce),b.style.borderColor=e,W.innerHTML="\n        [".concat(c.value,"-click-animating-without-extra-node='true']::after, .").concat(c.value,"-click-animating-node {\n          --antd-wave-shadow-color: ").concat(e,";\n        }"),document.body.contains(W)||document.body.appendChild(W)),i&&t.appendChild(b),F.addStartEventListener(t,h),F.addEndEventListener(t,T)}}(t,a)}),0),C.cancel(g),y=!0,g=C((function(){y=!1}),10)}};return t.addEventListener("click",e,!0),{cancel:function(){t.removeEventListener("click",e,!0)}}}};return f((function(){v((function(){var n=e(r);1===n.nodeType&&(s=S(n))}))})),m((function(){s&&s.cancel(),clearTimeout(d),E=!0})),function(){var n;return null===(n=i.default)||void 0===n?void 0:n.call(i)[0]}}}),V=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:a.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}},H=function(n){n&&(n.style.width="0px",n.style.opacity="0",n.style.transform="scale(0)")},U=function(n){v((function(){n&&(n.style.width="".concat(n.scrollWidth,"px"),n.style.opacity="1",n.style.transform="scale(1)")}))},D=function(n){n&&n.style&&(n.style.width=null,n.style.opacity=null,n.style.transform=null)},$=d({name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(n){return function(){var t=n.existIcon,e=n.prefixCls,a=n.loading;if(t)return g("span",{class:"".concat(e,"-loading-icon")},[g(i,null,null)]);var r=!!a;return g(o,{name:"".concat(e,"-loading-icon-motion"),onBeforeEnter:H,onEnter:U,onAfterEnter:D,onBeforeLeave:U,onLeave:function(n){setTimeout((function(){H(n)}))},onAfterLeave:D},{default:function(){return[r?g("span",{class:"".concat(e,"-loading-icon")},[g(i,null,null)]):null]}})}}}),G=/^[\u4e00-\u9fa5]{2}$/,J=G.test.bind(G);function K(n){return"text"===n||"link"===n}var Q=d({name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:A(V(),{type:"default"}),slots:["icon"],setup:function(e,a){var i=a.slots,o=a.attrs,d=a.emit,v=t("btn",e),p=v.prefixCls,A=v.autoInsertSpaceInButton,S=v.direction,k=v.size,x=y(null),L=y(void 0),B=!1,C=y(!1),M=y(!1),N=b((function(){return!1!==A.value})),O=b((function(){return"object"===c(e.loading)&&e.loading.delay?e.loading.delay||!0:!!e.loading}));E(O,(function(n){clearTimeout(L.value),"number"==typeof O.value?L.value=setTimeout((function(){C.value=n}),O.value):C.value=n}),{immediate:!0});var z=b((function(){var n,t=e.type,a=e.shape,i=void 0===a?"default":a,o=e.ghost,r=e.block,u=e.danger,c=p.value,s=k.value,d=s&&{large:"lg",small:"sm",middle:void 0}[s]||"";return l(n={},"".concat(c),!0),l(n,"".concat(c,"-").concat(t),t),l(n,"".concat(c,"-").concat(i),"default"!==i&&i),l(n,"".concat(c,"-").concat(d),d),l(n,"".concat(c,"-loading"),C.value),l(n,"".concat(c,"-background-ghost"),o&&!K(t)),l(n,"".concat(c,"-two-chinese-chars"),M.value&&N.value),l(n,"".concat(c,"-block"),r),l(n,"".concat(c,"-dangerous"),!!u),l(n,"".concat(c,"-rtl"),"rtl"===S.value),n})),j=function(){var n=x.value;if(n&&!1!==A.value){var t=n.textContent;B&&J(t)?M.value||(M.value=!0):M.value&&(M.value=!1)}},I=function(n){C.value||e.disabled?n.preventDefault():d("click",n)};return h((function(){s(!(e.ghost&&K(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")})),f(j),T(j),m((function(){L.value&&clearTimeout(L.value)})),function(){var t,a,c=e.icon,s=void 0===c?null===(t=i.icon)||void 0===t?void 0:t.call(i):c,d=r(null===(a=i.default)||void 0===a?void 0:a.call(i));B=1===d.length&&!s&&!K(e.type);var f=e.type,v=e.htmlType,m=e.disabled,y=e.href,b=e.title,E=e.target,h=e.onMousedown,T=C.value?"loading":s,A=n(n({},o),{title:b,disabled:m,class:[z.value,o.class,l({},"".concat(p.value,"-icon-only"),0===d.length&&!!T)],onClick:I,onMousedown:h});m||delete A.disabled;var S=s&&!C.value?s:g($,{existIcon:!!s,prefixCls:p.value,loading:!!C.value},null),k=d.map((function(n){return function(n,t){var e=t?" ":"";if(n.type===w){var a=n.children.trim();return J(a)&&(a=a.split("").join(e)),g("span",null,[a])}return n}(n,B&&N.value)}));if(void 0!==y)return g("a",u(u({},A),{},{href:y,target:E,ref:x}),[S,k]);var L=g("button",u(u({},A),{},{ref:x,type:v}),[S,k]);return K(f)?L:g(q,{ref:"wave",disabled:!!C.value},{default:function(){return[L]}})}}});export{Q as B,A as i,M as o,C as w};
