import{P as e,_ as a,e as n,a as t,n as o,t as r,F as l,c as u,f as i,s as d,l as s}from"./default-add53953.js";import{u as c,a as f}from"./FormItemContext-4ebe2f02.js";import{o as v}from"./omit-4992fbe8.js";import{c as p}from"./vnode-89a287a7.js";import{d as y,r as g,c as x,s as b,j as m,D as w,L as h,F as B,B as C,K as A}from"./index-461f95cc.js";var F=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:e.oneOfType([e.string,e.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:e.any,addonAfter:e.any,prefix:e.any,suffix:e.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}},S=F,z=function(){return a(a({},v(F(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function j(e,a,o,r,l){var u;return n(e,(t(u={},"".concat(e,"-sm"),"small"===o),t(u,"".concat(e,"-lg"),"large"===o),t(u,"".concat(e,"-disabled"),r),t(u,"".concat(e,"-rtl"),"rtl"===l),t(u,"".concat(e,"-borderless"),!a),u))}var O=function(e){return null!=e&&(!Array.isArray(e)||o(e).length)};function T(e){return O(e.addonBefore)||O(e.addonAfter)}var R=["text","input"],P=y({name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:e.oneOf(r("text","input")),value:e.any,defaultValue:e.any,allowClear:{type:Boolean,default:void 0},element:e.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:e.any,prefix:e.any,addonBefore:e.any,addonAfter:e.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,a){var o=a.slots,r=a.attrs,u=g(),i=function(a){var n;if(null===(n=u.value)||void 0===n?void 0:n.contains(a.target)){var t=e.triggerFocus;null==t||t()}},d=function(a){var r,u=e.allowClear,i=e.value,d=e.disabled,s=e.readonly,c=e.handleReset,f=e.suffix,v=void 0===f?o.suffix:f;if(!u)return null;var p=!d&&!s&&i,y="".concat(a,"-clear-icon");return x(l,{onClick:c,onMousedown:function(e){return e.preventDefault()},class:n((r={},t(r,"".concat(y,"-hidden"),!p),t(r,"".concat(y,"-has-suffix"),!!v),r),y),role:"button"},null)},s=function(a,l){var s,c,f,v,y=e.focused,g=e.value,b=e.prefix,m=void 0===b?null===(c=o.prefix)||void 0===c?void 0:c.call(o):b,w=e.size,h=e.suffix,B=void 0===h?null===(f=o.suffix)||void 0===f?void 0:f.call(o):h,C=e.disabled,A=e.allowClear,F=e.direction,S=e.readonly,z=e.bordered,R=e.hidden,P=e.addonAfter,k=void 0===P?o.addonAfter:P,I=e.addonBefore,M=void 0===I?o.addonBefore:I,N=function(a){var n,t=e.suffix,r=void 0===t?null===(n=o.suffix)||void 0===n?void 0:n.call(o):t,l=e.allowClear;return r||l?x("span",{class:"".concat(a,"-suffix")},[d(a),r]):null}(a);if(!(O((v={prefix:m,suffix:B,allowClear:A}).prefix)||O(v.suffix)||O(v.allowClear)))return p(l,{value:g});var V=m?x("span",{class:"".concat(a,"-prefix")},[m]):null,K=n("".concat(a,"-affix-wrapper"),(t(s={},"".concat(a,"-affix-wrapper-focused"),y),t(s,"".concat(a,"-affix-wrapper-disabled"),C),t(s,"".concat(a,"-affix-wrapper-sm"),"small"===w),t(s,"".concat(a,"-affix-wrapper-lg"),"large"===w),t(s,"".concat(a,"-affix-wrapper-input-with-clear-btn"),B&&A&&g),t(s,"".concat(a,"-affix-wrapper-rtl"),"rtl"===F),t(s,"".concat(a,"-affix-wrapper-readonly"),S),t(s,"".concat(a,"-affix-wrapper-borderless"),!z),t(s,"".concat(r.class),!T({addonAfter:k,addonBefore:M})&&r.class),s));return x("span",{ref:u,class:K,style:r.style,onMouseup:i,hidden:R},[V,p(l,{style:null,value:g,class:j(a,z,w,C)}),N])};return function(){var a,l=e.prefixCls,u=e.inputType,i=e.element,c=void 0===i?null===(a=o.element)||void 0===a?void 0:a.call(o):i;return u===R[0]?function(a,l){var u,i=e.value,s=e.allowClear,c=e.direction,f=e.bordered,v=e.hidden,y=e.addonAfter,g=void 0===y?o.addonAfter:y,b=e.addonBefore,m=void 0===b?o.addonBefore:b;if(!s)return p(l,{value:i});var w=n("".concat(a,"-affix-wrapper"),"".concat(a,"-affix-wrapper-textarea-with-clear-btn"),(t(u={},"".concat(a,"-affix-wrapper-rtl"),"rtl"===c),t(u,"".concat(a,"-affix-wrapper-borderless"),!f),t(u,"".concat(r.class),!T({addonAfter:g,addonBefore:m})&&r.class),u));return x("span",{class:w,style:r.style,hidden:v},[p(l,{style:null,value:i}),d(a)])}(l,c):function(a,l){var u,i,d,s=e.addonBefore,c=void 0===s?null===(i=o.addonBefore)||void 0===i?void 0:i.call(o):s,f=e.addonAfter,v=void 0===f?null===(d=o.addonAfter)||void 0===d?void 0:d.call(o):f,y=e.size,g=e.direction,b=e.hidden;if(!T({addonBefore:c,addonAfter:v}))return l;var m="".concat(a,"-group"),w="".concat(m,"-addon"),h=c?x("span",{class:w},[c]):null,B=v?x("span",{class:w},[v]):null,C=n("".concat(a,"-wrapper"),m,t({},"".concat(m,"-rtl"),"rtl"===g)),A=n("".concat(a,"-group-wrapper"),(t(u={},"".concat(a,"-group-wrapper-sm"),"small"===y),t(u,"".concat(a,"-group-wrapper-lg"),"large"===y),t(u,"".concat(a,"-group-wrapper-rtl"),"rtl"===g),u),r.class);return x("span",{class:A,style:r.style,hidden:b},[x("span",{class:C},[h,p(l,{style:null}),B])])}(l,s(l,c))}}});function k(e){return null==e?"":String(e)}function I(e,a,n,t){if(n){var o=a;if("click"===a.type){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});var r=e.cloneNode(!0);return o.target=r,o.currentTarget=r,r.value="",void n(o)}if(void 0!==t)return Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=e,o.currentTarget=e,e.value=t,void n(o);n(o)}}function M(e,a){if(e){e.focus(a);var n=(a||{}).cursor;if(n){var t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}}var N=y({name:"AInput",inheritAttrs:!1,props:S(),setup:function(e,o){var r,l=o.slots,p=o.attrs,y=o.expose,F=o.emit,S=g(),z=g(),O=c(),T=u("input",e),R=T.direction,N=T.prefixCls,V=T.size,K=T.autocomplete,E=g(void 0===e.value?e.defaultValue:e.value),D=g(!1);b((function(){return e.value}),(function(){E.value=e.value})),b((function(){return e.disabled}),(function(){void 0!==e.value&&(E.value=e.value),e.disabled&&(D.value=!1)}));var L=function(){r=setTimeout((function(){var e;"password"===(null===(e=S.value)||void 0===e?void 0:e.getAttribute("type"))&&S.value.hasAttribute("value")&&S.value.removeAttribute("value")}))},U=function(e){M(S.value,e)};y({focus:U,blur:function(){var e;null===(e=S.value)||void 0===e||e.blur()},input:S,stateValue:E,setSelectionRange:function(e,a,n){var t;null===(t=S.value)||void 0===t||t.setSelectionRange(e,a,n)},select:function(){var e;null===(e=S.value)||void 0===e||e.select()}});var _=function(a){var n=e.onFocus;D.value=!0,null==n||n(a),C((function(){L()}))},q=function(a){var n=e.onBlur;D.value=!1,null==n||n(a),O.onFieldBlur(),C((function(){L()}))},G=function(e){F("update:value",e.target.value),F("change",e),F("input",e),O.onFieldChange()},H=A(),J=function(a,n){E.value!==a&&(void 0===e.value?E.value=a:C((function(){S.value.value!==E.value&&H.update()})),C((function(){n&&n()})))},Q=function(e){I(S.value,e,G),J("",(function(){U()}))},W=function(a){var n=a.target,t=n.value,o=n.composing;if(!((a.isComposing||o)&&e.lazy||E.value===t)){var r=a.target.value;I(S.value,a,G),J(r,(function(){L()}))}},X=function(e){13===e.keyCode&&F("pressEnter",e),F("keydown",e)};m((function(){L()})),w((function(){clearTimeout(r)}));var Y=function(){var o,r=e.addonBefore,u=void 0===r?l.addonBefore:r,i=e.addonAfter,d=void 0===i?l.addonAfter:i,s=e.disabled,c=e.bordered,y=void 0===c||c,g=e.valueModifiers,b=void 0===g?{}:g,m=e.htmlSize,w=v(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),B=a(a(a({},w),p),{autocomplete:K.value,onChange:W,onInput:W,onFocus:_,onBlur:q,onKeydown:X,class:n(j(N.value,y,V.value,s,R.value),t({},p.class,p.class&&!u&&!d)),ref:S,key:"ant-input",size:m,id:null!==(o=w.id)&&void 0!==o?o:O.id.value});b.lazy&&delete B.onInput,B.autofocus||delete B.autofocus;var C=x("input",v(B,["size"]),null);return h(C,[[f]])},Z=function(){var a,o=E.value,r=e.maxlength,u=e.suffix,i=void 0===u?null===(a=l.suffix)||void 0===a?void 0:a.call(l):u,c=e.showCount,f=Number(r)>0;if(i||c){var v=d(k(o)).length,p=null;return p="object"===s(c)?c.formatter({count:v,maxlength:r}):"".concat(v).concat(f?" / ".concat(r):""),x(B,null,[!!c&&x("span",{class:n("".concat(N.value,"-show-count-suffix"),t({},"".concat(N.value,"-show-count-has-suffix"),!!i))},[p]),i])}return null};return function(){var n=a(a(a({},p),e),{prefixCls:N.value,inputType:"input",value:k(E.value),handleReset:Q,focused:D.value&&!e.disabled});return x(P,i(i({},v(n,["element","valueModifiers","suffix","showCount"])),{},{ref:z}),a(a({},l),{element:Y,suffix:Z}))}}});export{P as C,N as I,M as a,k as f,S as i,I as r,z as t};
