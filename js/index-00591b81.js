import{i as e,a as t,I as n,t as a,C as o,b as i,r,f as l,_ as u}from"./index-642800f7.js";import{u as s,c,a as d,n as v,P as p,j as f,e as b,o as g,w as m,y as h,b as x,_ as y}from"./default-d4740e8b.js";import{d as w,b as A,c as z,r as S,o as C,w as P,n as T,f as B,e as F,g as M,h as j}from"./index-7c775911.js";import{S as E,R as k}from"./SearchOutlined-bdef1a89.js";import"./index-7b12d072.js";import{c as O}from"./vnode-a3295854.js";import{B as _}from"./index-27e7c036.js";import{a as I,u as R}from"./FormItemContext-eba934ed.js";var V=w({name:"AInputGroup",props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0},onMouseenter:{type:Function},onMouseleave:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup:function(e,t){var n=t.slots,a=s("input-group",e),o=a.prefixCls,i=a.direction,r=A((function(){var t,n=o.value;return c(t={},"".concat(n),!0),c(t,"".concat(n,"-lg"),"large"===e.size),c(t,"".concat(n,"-sm"),"small"===e.size),c(t,"".concat(n,"-compact"),e.compact),c(t,"".concat(n,"-rtl"),"rtl"===i.value),t}));return function(){var t;return z("span",{class:r.value,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},[null===(t=n.default)||void 0===t?void 0:t.call(n)])}}}),N=/iPhone/i,G=/iPod/i,H=/iPad/i,U=/\bAndroid(?:.+)Mobile\b/i,D=/Android/i,K=/\bAndroid(?:.+)SD4930UR\b/i,W=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,X=/Windows Phone/i,Y=/\bWindows(?:.+)ARM\b/i,L=/BlackBerry/i,Z=/BB10/i,q=/Opera Mini/i,J=/\b(CriOS|Chrome)(?:.+)Mobile/i,Q=/Mobile(?:.+)Firefox\b/i;function $(e,t){return e.test(t)}function ee(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");void 0!==n[1]&&(t=v(n,1)[0]);void 0!==(n=t.split("Twitter"))[1]&&(t=v(n,1)[0]);var a={apple:{phone:$(N,t)&&!$(X,t),ipod:$(G,t),tablet:!$(N,t)&&$(H,t)&&!$(X,t),device:($(N,t)||$(G,t)||$(H,t))&&!$(X,t)},amazon:{phone:$(K,t),tablet:!$(K,t)&&$(W,t),device:$(K,t)||$(W,t)},android:{phone:!$(X,t)&&$(K,t)||!$(X,t)&&$(U,t),tablet:!$(X,t)&&!$(K,t)&&!$(U,t)&&($(W,t)||$(D,t)),device:!$(X,t)&&($(K,t)||$(W,t)||$(U,t)||$(D,t))||$(/\bokhttp\b/i,t)},windows:{phone:$(X,t),tablet:$(Y,t),device:$(X,t)||$(Y,t)},other:{blackberry:$(L,t),blackberry10:$(Z,t),opera:$(q,t),firefox:$(Q,t),chrome:$(J,t),device:$(L,t)||$(Z,t)||$(q,t)||$(Q,t)||$(J,t)},any:null,phone:null,tablet:null};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var te,ne=d(d({},ee()),{isMobile:ee}),ae=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},oe=w({name:"AInputSearch",inheritAttrs:!1,props:d(d({},e()),{inputPrefixCls:String,enterButton:p.any,onSearch:{type:Function}}),setup:function(e,a){var o=a.slots,i=a.attrs,r=a.expose,l=a.emit,u=S();r({focus:function(){var e;null===(e=u.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=u.value)||void 0===e||e.blur()}});var v=function(e){l("update:value",e.target.value),e&&e.target&&"click"===e.type&&l("search",e.target.value,e),l("change",e)},p=function(e){var t;document.activeElement===(null===(t=u.value)||void 0===t?void 0:t.input)&&e.preventDefault()},m=function(e){var t;l("search",null===(t=u.value)||void 0===t?void 0:t.stateValue,e),ne.tablet||u.value.focus()},h=s("input-search",e),x=h.prefixCls,y=h.getPrefixCls,w=h.direction,C=h.size,P=A((function(){return y("input",e.inputPrefixCls)}));return function(){var a,r,l,s,h,y,A=e.disabled,S=e.loading,T=e.addonAfter,B=void 0===T?null===(r=o.addonAfter)||void 0===r?void 0:r.call(o):T,F=e.suffix,M=void 0===F?null===(l=o.suffix)||void 0===l?void 0:l.call(o):F,j=ae(e,["disabled","loading","addonAfter","suffix"]),k=e.enterButton,I=void 0===k?null!==(h=null===(s=o.enterButton)||void 0===s?void 0:s.call(o))&&void 0!==h&&h:k,R="boolean"==typeof(I=I||""===I)?z(E,null,null):null,V="".concat(x.value,"-button"),N=Array.isArray(I)?I[0]:I,G=N.type&&t(N.type)&&N.type.__ANT_BUTTON;if(G||"button"===N.tagName)y=O(N,d({onMousedown:p,onClick:m,key:"enterButton"},G?{class:V,size:C.value}:{}),!1);else{var H=R&&!I;y=z(_,{class:V,type:I?"primary":void 0,size:C.value,disabled:A,key:"enterButton",onMousedown:p,onClick:m,loading:S,icon:H?R:null},{default:function(){return[H?null:R||I]}})}B&&(y=[y,B]);var U=f(x.value,(c(a={},"".concat(x.value,"-rtl"),"rtl"===w.value),c(a,"".concat(x.value,"-").concat(C.value),!!C.value),c(a,"".concat(x.value,"-with-button"),!!I),a),i.class);return z(n,b(b(b({ref:u},g(j,["onUpdate:value","onSearch","enterButton"])),i),{},{onPressEnter:m,size:C.value,prefixCls:P.value,addonAfter:y,suffix:M,onChange:v,class:U,disabled:A}),o)}}}),ie="\n min-height:0 !important;\n max-height:none !important;\n height:0 !important;\n visibility:hidden !important;\n overflow:hidden !important;\n position:absolute !important;\n z-index:-1000 !important;\n top:0 !important;\n right:0 !important\n",re=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],le={};function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&le[n])return le[n];var a=window.getComputedStyle(e),o=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),i=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),r=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),l=re.map((function(e){return"".concat(e,":").concat(a.getPropertyValue(e))})).join(";"),u={sizingStyle:l,paddingSize:i,borderSize:r,boxSizing:o};return t&&n&&(le[n]=u),u}var se=w({name:"ResizableTextArea",inheritAttrs:!1,props:a(),setup:function(e,t){var n,a,o=t.attrs,i=t.emit,r=t.expose,l=S(),u=S({}),s=S(0);C((function(){m.cancel(n),m.cancel(a)}));var v=function(){var t=e.autoSize||e.autosize;if(t&&l.value){var n=t.minRows,o=t.maxRows;u.value=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;te||((te=document.createElement("textarea")).setAttribute("tab-index","-1"),te.setAttribute("aria-hidden","true"),document.body.appendChild(te)),e.getAttribute("wrap")?te.setAttribute("wrap",e.getAttribute("wrap")):te.removeAttribute("wrap");var o=ue(e,t),i=o.paddingSize,r=o.borderSize,l=o.boxSizing,u=o.sizingStyle;te.setAttribute("style","".concat(u,";").concat(ie)),te.value=e.value||e.placeholder||"";var s,c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,v=te.scrollHeight;if("border-box"===l?v+=r:"content-box"===l&&(v-=i),null!==n||null!==a){te.value=" ";var p=te.scrollHeight-i;null!==n&&(c=p*n,"border-box"===l&&(c=c+i+r),v=Math.max(c,v)),null!==a&&(d=p*a,"border-box"===l&&(d=d+i+r),s=v>d?"":"hidden",v=Math.min(d,v))}return{height:"".concat(v,"px"),minHeight:"".concat(c,"px"),maxHeight:"".concat(d,"px"),overflowY:s,resize:"none"}}(l.value,!1,n,o),s.value=1,m.cancel(a),a=m((function(){s.value=2,a=m((function(){s.value=0,function(){try{if(document.activeElement===l.value){var e=l.value.selectionStart,t=l.value.selectionEnd;l.value.setSelectionRange(e,t)}}catch(n){}}()}))}))}},p=function(t){0===s.value&&(i("resize",t),(e.autoSize||e.autosize)&&(m.cancel(n),n=m(v)))};h(void 0===e.autosize,"Input.TextArea","autosize is deprecated, please use autoSize instead.");P((function(){return e.value}),(function(){T((function(){v()}))})),B((function(){T((function(){v()}))}));var x=M();return r({resizeTextarea:v,textArea:l,instance:x}),function(){return t=e.prefixCls,n=e.autoSize,a=e.autosize,i=e.disabled,r=g(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),v=f(t,o.class,c({},"".concat(t,"-disabled"),i)),m=[o.style,u.value,1===s.value?{overflowX:"hidden",overflowY:"hidden"}:null],(h=d(d(d({},r),o),{style:m,class:v})).autofocus||delete h.autofocus,0===h.rows&&delete h.rows,z(k,{onResize:p,disabled:!(n||a)},{default:function(){return[F(z("textarea",b(b({},h),{},{ref:l}),null),[[I]])]}});var t,n,a,i,r,v,m,h}}});function ce(e,t){return x(e||"").slice(0,t).join("")}function de(e,t,n,a){var o=n;return e?o=ce(n,a):x(t||"").length<n.length&&x(n||"").length>a&&(o=t),o}var ve=w({name:"ATextarea",inheritAttrs:!1,props:a(),setup:function(e,t){var n=t.attrs,a=t.expose,u=t.emit,v=R(),p=S(void 0===e.value?e.defaultValue:e.value),m=S(),h=S(""),w=s("input",e),C=w.prefixCls,F=w.size,E=w.direction,k=A((function(){return""===e.showCount||e.showCount||!1})),O=A((function(){return Number(e.maxlength)>0})),_=S(!1),I=S(),V=S(0),N=function(e){_.value=!0,I.value=h.value,V.value=e.currentTarget.selectionStart,u("compositionstart",e)},G=function(t){var n;_.value=!1;var a=t.currentTarget.value;O.value&&(a=de(V.value>=e.maxlength+1||V.value===(null===(n=I.value)||void 0===n?void 0:n.length),I.value,a,e.maxlength));a!==h.value&&(D(a),r(t.currentTarget,t,X,a)),u("compositionend",t)},H=M();P((function(){return e.value}),(function(){var t;H.vnode.props,p.value=null!==(t=e.value)&&void 0!==t?t:""}));var U=function(e){var t;i(null===(t=m.value)||void 0===t?void 0:t.textArea,e)},D=function(t,n){p.value!==t&&(void 0===e.value?p.value=t:T((function(){var e,t,n;m.value.textArea.value!==h.value&&(null===(n=null===(e=m.value)||void 0===e?void 0:(t=e.instance).update)||void 0===n||n.call(t))})),T((function(){n&&n()})))},K=function(e){13===e.keyCode&&u("pressEnter",e),u("keydown",e)},W=function(t){var n=e.onBlur;null==n||n(t),v.onFieldBlur()},X=function(e){u("update:value",e.target.value),u("change",e),u("input",e),v.onFieldChange()},Y=function(e){r(m.value.textArea,e,X),D("",(function(){U()}))},L=function(t){var n=t.target.composing,a=t.target.value;if(_.value=!(!t.isComposing&&!n),!(_.value&&e.lazy||p.value===a)){if(O.value){var o=t.target;a=de(o.selectionStart>=e.maxlength+1||o.selectionStart===a.length||!o.selectionStart,h.value,a,e.maxlength)}r(t.currentTarget,t,X,a),D(a)}},Z=function(){var t,a,o,i=n.style,r=n.class,l=e.bordered,u=void 0===l||l,s=d(d(d({},g(e,["allowClear"])),n),{style:k.value?{}:i,class:(t={},c(t,"".concat(C.value,"-borderless"),!u),c(t,"".concat(r),r&&!k.value),c(t,"".concat(C.value,"-sm"),"small"===F.value),c(t,"".concat(C.value,"-lg"),"large"===F.value),t),showCount:null,prefixCls:C.value,onInput:L,onChange:L,onBlur:W,onKeydown:K,onCompositionstart:N,onCompositionend:G});return(null===(a=e.valueModifiers)||void 0===a?void 0:a.lazy)&&delete s.onInput,z(se,b(b({},s),{},{id:null!==(o=s.id)&&void 0!==o?o:v.id.value,ref:m,maxlength:e.maxlength}),null)};return B((function(){})),a({focus:U,blur:function(){var e,t;null===(t=null===(e=m.value)||void 0===e?void 0:e.textArea)||void 0===t||t.blur()},resizableTextArea:m}),j((function(){var t=l(p.value);_.value||!O.value||null!==e.value&&void 0!==e.value||(t=ce(t,e.maxlength)),h.value=t})),function(){var t=e.maxlength,a=e.bordered,i=void 0===a||a,r=e.hidden,l=n.style,u=n.class,s=d(d(d({},e),n),{prefixCls:C.value,inputType:"text",handleReset:Y,direction:E.value,bordered:i,style:k.value?void 0:l}),v=z(o,b(b({},s),{},{value:h.value}),{element:Z});if(k.value){var p=x(h.value).length,g="";g="object"===y(k.value)?k.value.formatter({count:p,maxlength:t}):"".concat(p).concat(O.value?" / ".concat(t):""),v=z("div",{hidden:r,class:f("".concat(C.value,"-textarea"),c({},"".concat(C.value,"-textarea-rtl"),"rtl"===E.value),"".concat(C.value,"-textarea-show-count"),u),style:l,"data-count":"object"!==y(g)?g:void 0},[v])}return v}}});n.Group=V,n.Search=oe,n.TextArea=ve,n.Password=u,n.install=function(e){return e.component(n.name,n),e.component(n.Group.name,n.Group),e.component(n.Search.name,n.Search),e.component(n.TextArea.name,n.TextArea),e.component(n.Password.name,n.Password),e};export{oe as _,ve as a};
