import{d as e,r as a,a as n,w as s,y as o,_ as t,t as c,C as l,D as i,v as r,Z as u,Q as d}from"./index-7f18b97f.js";import{w as p,t as v,P as f,u as m,m as g,c as y,d as h,j as w,i as b,n as x,b as C,V as I,R as H,W as T,C as j,S as A,X as B,Y as L,Z as _,$ as k}from"./default-94dd01ba.js";import{c as D}from"./vnode-3df38c68.js";var E={success:H,info:T,error:j,warning:A},F={success:B,info:L,error:_,warning:k},S=v("success","info","warning","error"),Z=p(e({name:"AAlert",inheritAttrs:!1,props:{type:f.oneOf(S),closable:{type:Boolean,default:void 0},closeText:f.any,message:f.any,description:f.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:f.any,closeIcon:f.any,onClose:Function},setup:function(e,t){var c=t.slots,l=t.emit,i=t.attrs,r=t.expose,u=m("alert",e),d=u.prefixCls,p=u.direction,v=a(!1),f=a(!1),H=a(),T=function(e){e.preventDefault();var a=H.value;a.style.height="".concat(a.offsetHeight,"px"),a.style.height="".concat(a.offsetHeight,"px"),v.value=!0,l("close",e)},j=function(){var a;v.value=!1,f.value=!0,null===(a=e.afterClose)||void 0===a||a.call(e)};r({animationEnd:j});var A=a({});return function(){var a,t,l=e.banner,r=e.closeIcon,u=void 0===r?null===(t=c.closeIcon)||void 0===t?void 0:t.call(c):r,m=e.closable,B=e.type,L=e.showIcon,_=g(c,e,"closeText"),k=g(c,e,"description"),S=g(c,e,"message"),Z=g(c,e,"icon");L=!(!l||void 0!==L)||L;var M=(k?F:E)[B=l&&void 0===B?"warning":B||"info"]||null;_&&(m=!0);var O=d.value,P=y(O,(h(a={},"".concat(O,"-").concat(B),!0),h(a,"".concat(O,"-closing"),v.value),h(a,"".concat(O,"-with-description"),!!k),h(a,"".concat(O,"-no-icon"),!L),h(a,"".concat(O,"-banner"),!!l),h(a,"".concat(O,"-closable"),m),h(a,"".concat(O,"-rtl"),"rtl"===p.value),a)),Q=m?n("button",{type:"button",onClick:T,class:"".concat(O,"-close-icon"),tabindex:0},[_?n("span",{class:"".concat(O,"-close-text")},[_]):void 0===u?n(w,null,null):u]):null,R=Z&&(b(Z)?D(Z,{class:"".concat(O,"-icon")}):n("span",{class:"".concat(O,"-icon")},[Z]))||n(M,{class:"".concat(O,"-icon")},null),V=x("".concat(O,"-motion"),{appear:!1,css:!0,onAfterLeave:j,onBeforeLeave:function(e){e.style.maxHeight="".concat(e.offsetHeight,"px")},onLeave:function(e){e.style.maxHeight="0px"}});return f.value?null:n(I,V,{default:function(){return[s(n("div",C(C({role:"alert"},i),{},{style:[i.style,A.value],class:[i.class,P],"data-show":!v.value,ref:H}),[L?R:null,n("div",{class:"".concat(O,"-content")},[S?n("div",{class:"".concat(O,"-message")},[S]):null,k?n("div",{class:"".concat(O,"-description")},[k]):null]),Q]),[[o,!v.value]])]}})}}}));const M={class:"wrap",ref:"wrap"};var O=t(e({name:"Message",props:{msg:null,type:null},setup(e){const a=e,{msg:s,type:o}=c(a);return(e,a)=>{const t=Z;return l(),i("div",M,[n(t,{class:"message",message:r(s),type:r(o),"show-icon":""},null,8,["message","type"])],512)}}}),[["__scopeId","data-v-7446ba7a"]]);const P=e({name:"Test",setup(e){const a=()=>{(e=>{const{msg:a,type:n,interval:s}=e,o=document.createElement("div");document.body.appendChild(o);const t=u(d(O,{msg:a,type:n}));t.mount(o);const c=setTimeout((()=>{t.unmount(),o.remove(),window.clearTimeout(c)}),s||2e3)})({msg:"成功尝试",type:"warning"})};return(e,n)=>(l(),i("button",{onClick:a},"点击"))}});export{P as default};
