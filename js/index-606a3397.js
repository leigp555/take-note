import{u as e,b as n,c as o,e as t,a,_ as r,C as l,f as i,g as c,P as s,I as u,h as f,i as p,E as d,j as v,k as m}from"./default-add53953.js";import{D as C}from"./DialogWrap-a7b78e43.js";import{a as y}from"./contains-960a673b.js";import"./index-97df7f35.js";import{B as b,c as g}from"./button-a54e8c4a.js";import{i as k}from"./raf-b2de4fce.js";import{c as x}from"./styleChecker-dd26d045.js";import{d as T,c as B,F as h,r as N,D as j,j as w,z as O}from"./index-461f95cc.js";import{o as P}from"./omit-4992fbe8.js";var S=globalThis&&globalThis.__rest||function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]])}return o},F=null;x()&&y(document.documentElement,"click",(function(e){F={x:e.pageX,y:e.pageY},setTimeout((function(){return F=null}),100)}),!0);var A=[],I=T({name:"AModal",inheritAttrs:!1,props:k({prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:s.any,closable:{type:Boolean,default:void 0},closeIcon:s.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:s.any,okText:s.any,okType:String,cancelText:s.any,icon:s.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function},{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(s,u){var f=u.emit,p=u.slots,d=u.attrs,v=e("Modal"),m=n(v,1)[0],y=o("modal",s),k=y.prefixCls,x=y.rootPrefixCls,T=y.direction,N=y.getPopupContainer,j=function(e){f("update:visible",!1),f("cancel",e),f("change",!1)},w=function(e){f("ok",e)},O=function(){var e,n,o=s.okText,t=void 0===o?null===(e=p.okText)||void 0===e?void 0:e.call(p):o,a=s.okType,r=s.cancelText,l=void 0===r?null===(n=p.cancelText)||void 0===n?void 0:n.call(p):r,c=s.confirmLoading;return B(h,null,[B(b,i({onClick:j},s.cancelButtonProps),{default:function(){return[l||m.value.cancelText]}}),B(b,i(i({},g(a)),{},{loading:c,onClick:w},s.okButtonProps),{default:function(){return[t||m.value.okText]}})])};return function(){var e,n;s.prefixCls;var o=s.visible,u=s.wrapClassName,f=s.centered,v=s.getContainer,m=s.closeIcon,y=void 0===m?null===(n=p.closeIcon)||void 0===n?void 0:n.call(p):m,b=s.focusTriggerAfterClose,g=void 0===b||b,h=S(s,["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),w=t(u,(a(e={},"".concat(k.value,"-centered"),!!f),a(e,"".concat(k.value,"-wrap-rtl"),"rtl"===T.value),e));return B(C,i(i(i({},h),d),{},{getContainer:v||N.value,prefixCls:k.value,wrapClassName:w,visible:o,mousePosition:F,onClose:j,focusTriggerAfterClose:g,transitionName:c(x.value,"zoom",s.transitionName),maskTransitionName:c(x.value,"fade",s.maskTransitionName)}),r(r({},p),{footer:p.footer||O,closeIcon:function(){return B("span",{class:"".concat(k.value,"-close-x")},[y||B(l,{class:"".concat(k.value,"-close-icon")},null)])}}))}}}),z=function(){var e=N(!1);return j((function(){e.value=!0})),e};function R(e){return!(!e||!e.then)}var D=T({name:"ActionButton",props:{type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean},setup:function(e,n){var o,t=n.slots,a=N(!1),r=N(),l=N(!1),c=z();w((function(){e.autofocus&&(o=setTimeout((function(){var e;return null===(e=r.value.$el)||void 0===e?void 0:e.focus()})))})),j((function(){clearTimeout(o)}));var s=function(n){var o=e.actionFn,t=e.close,r=void 0===t?function(){}:t;if(!a.value)if(a.value=!0,o){var i;if(e.emitEvent){if(i=o(n),e.quitOnNullishReturnValue&&!R(i))return a.value=!1,void r(n)}else if(o.length)i=o(r),a.value=!1;else if(!(i=o()))return void r();!function(n){var o=e.close;R(n)&&(l.value=!0,n.then((function(){c.value||(l.value=!1),o.apply(void 0,arguments),a.value=!1}),(function(e){c.value||(l.value=!1),a.value=!1})))}(i)}else r()};return function(){var n=e.type,o=e.prefixCls,a=e.buttonProps;return B(b,i(i(i({},g(n)),{},{onClick:s,loading:l.value,prefixCls:o},a),{},{ref:r}),t)}}});function E(e){return"function"==typeof e?e():e}var M=T({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(o,r){var l=r.attrs,i=e("Modal"),s=n(i,1)[0];return function(){var e=o.icon,n=o.onCancel,r=o.onOk,i=o.close,u=o.closable,f=void 0!==u&&u,p=o.zIndex,d=o.afterClose,v=o.visible,m=o.keyboard,C=o.centered,y=o.getContainer,b=o.maskStyle,g=o.okButtonProps,k=o.cancelButtonProps,x=o.okCancel,T=void 0===x||x,h=o.width,N=void 0===h?416:h,j=o.mask,w=void 0===j||j,O=o.maskClosable,P=void 0!==O&&O,S=o.type,F=o.title,A=o.content,z=o.direction,R=o.closeIcon,M=o.modalRender,L=o.focusTriggerAfterClose,_=o.rootPrefixCls,q=o.bodyStyle,U=o.wrapClassName,V=o.okType||"primary",G=o.prefixCls||"ant-modal",W="".concat(G,"-confirm"),X=l.style||{},Y=E(o.okText)||(T?s.value.okText:s.value.justOkText),$=E(o.cancelText)||s.value.cancelText,H=null!==o.autoFocusButton&&(o.autoFocusButton||"ok"),J=t(W,"".concat(W,"-").concat(S),"".concat(G,"-").concat(S),a({},"".concat(W,"-rtl"),"rtl"===z),l.class),K=T&&B(D,{actionFn:n,close:i,autofocus:"cancel"===H,buttonProps:k,prefixCls:"".concat(_,"-btn")},{default:function(){return[$]}});return B(I,{prefixCls:G,class:J,wrapClassName:t(a({},"".concat(W,"-centered"),!!C),U),onCancel:function(e){return i({triggerCancel:!0},e)},visible:v,title:"",footer:"",transitionName:c(_,"zoom",o.transitionName),maskTransitionName:c(_,"fade",o.maskTransitionName),mask:w,maskClosable:P,maskStyle:b,style:X,bodyStyle:q,width:N,zIndex:p,afterClose:d,keyboard:m,centered:C,getContainer:y,closable:f,closeIcon:R,modalRender:M,focusTriggerAfterClose:L},{default:function(){return[B("div",{class:"".concat(W,"-body-wrapper")},[B("div",{class:"".concat(W,"-body")},[E(e),void 0===F?null:B("span",{class:"".concat(W,"-title")},[E(F)]),B("div",{class:"".concat(W,"-content")},[E(A)])]),B("div",{class:"".concat(W,"-btns")},[K,B(D,{type:V,actionFn:r,close:i,autofocus:"ok"===H,buttonProps:g,prefixCls:"".concat(_,"-btn")},{default:function(){return[Y]}})])])]}})}}}),L=function(e){var n=document.createDocumentFragment(),o=r(r({},P(e,["parentContext","appContext"])),{close:l,visible:!0}),t=null;function a(){t&&(O(null,n),t.component.update(),t=null);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];var i=a.some((function(e){return e&&e.triggerCancel}));e.onCancel&&i&&e.onCancel.apply(e,a);for(var c=0;c<A.length;c++){var s=A[c];if(s===l){A.splice(c,1);break}}}function l(){for(var n=this,t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];c(o=r(r({},o),{visible:!1,afterClose:function(){"function"==typeof e.afterClose&&e.afterClose(),a.apply(n,l)}}))}function c(e){o="function"==typeof e?e(o):r(r({},o),e),t&&(r(t.component.props,o),t.component.update())}var s,u=function(e){var n=m,o=n.prefixCls,t=e.prefixCls||"".concat(o,"-modal");return B(v,i(i({},n),{},{notUpdateGlobalConfig:!0,prefixCls:o}),{default:function(){return[B(M,i(i({},e),{},{rootPrefixCls:o,prefixCls:t}),null)]}})};return(s=B(u,r({},o))).appContext=e.parentContext||e.appContext||s.appContext,O(s,n),t=s,A.push(l),{destroy:l,update:c}};function _(e){return L(function(e){return r(r({icon:function(){return B(d,null,null)},okCancel:!1},e),{type:"warning"})}(e))}I.info=function(e){return L(function(e){return r(r({icon:function(){return B(u,null,null)},okCancel:!1},e),{type:"info"})}(e))},I.success=function(e){return L(function(e){return r(r({icon:function(){return B(f,null,null)},okCancel:!1},e),{type:"success"})}(e))},I.error=function(e){return L(function(e){return r(r({icon:function(){return B(p,null,null)},okCancel:!1},e),{type:"error"})}(e))},I.warning=_,I.warn=_,I.confirm=function(e){return L(function(e){return r(r({icon:function(){return B(d,null,null)},okCancel:!0},e),{type:"confirm"})}(e))},I.destroyAll=function(){for(;A.length;){var e=A.pop();e&&e()}},I.install=function(e){return e.component(I.name,I),e};export{I as M};
